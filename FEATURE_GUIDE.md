# 🎯 전체 기능 가이드

## ✅ 구현 완료된 5가지 주요 기능

### 1. 📊 히스토리 저장 기능 ✅

**위치**: 사이드바 메뉴 > 📊 히스토리

**주요 기능:**
- 과거 추천 기록 자동 저장 (최근 50개)
- 개인 선택 통계 분석
  - 총 추천 횟수
  - 평균 예산
  - 선호 음식 종류
  - 주요 식사 시간대
- 히스토리 상세 보기
- 히스토리 전체 삭제 기능

**사용 방법:**
1. 메인 페이지에서 메뉴 추천을 받으면 자동으로 저장됨
2. 왼쪽 사이드바에서 "📊 히스토리" 클릭
3. 과거 추천 기록과 통계 확인

**기술:**
- JSON 파일 기반 로컬 스토리지
- `data/history.json`에 저장
- Session state 활용한 실시간 업데이트

---

### 2. 🌦️ 날씨 자동 반영 기능 ✅

**위치**: 메인 페이지 상단

**주요 기능:**
- 실시간 서울 날씨 정보 표시
- 날씨 기반 메뉴 추천 힌트 제공
- GPT 추천 시 날씨 정보 자동 반영

**날씨별 추천 예시:**
- ☀️ **맑음 + 더움 (28°C 이상)**: 시원한 음식 추천
- 🌧️ **비**: 전, 파전, 따뜻한 국물 요리 추천
- ❄️ **눈/추움 (5°C 이하)**: 뜨끈한 국물 요리, 찌개 추천
- ☁️ **흐림**: 날씨에 맞는 다양한 메뉴 추천

**API 키 설정 (선택사항):**
```env
OPENWEATHER_API_KEY=your_key_here
```

**무료 API:**
- [OpenWeatherMap](https://openweathermap.org/api)에서 무료 발급
- API 키 없으면 날씨 기능만 비활성화 (다른 기능은 정상 작동)

---

### 3. 🗳️ 그룹 투표 기능 ✅

**위치**: 사이드바 메뉴 > 🗳️ 그룹투표

**주요 기능:**
- 메뉴 투표 세션 생성
- 고유 링크 생성 및 공유
- 실시간 투표 현황 확인
- 투표 종료 및 결과 확정

**사용 방법:**

**[투표 만들기]**
1. "🗳️ 그룹투표" 페이지 이동
2. 이름 입력 및 메뉴 목록 작성 (2~5개)
3. "투표 생성" 버튼 클릭
4. 생성된 링크 복사

**[친구들 초대]**
1. 복사한 링크를 친구들에게 공유 (카톡, 문자 등)
2. 친구들이 링크로 접속
3. 이름 입력 후 원하는 메뉴에 투표

**[결과 확인]**
1. 실시간으로 투표 현황 확인
2. 투표 종료 버튼 클릭 (생성자만 가능)
3. 최종 결과 확인

**저장 방식:**
- `data/votes/` 디렉토리에 JSON 파일로 저장
- 세션 ID 기반 관리

---

### 4. 🗺️ 지도 연동 - 주변 음식점 찾기 ✅

**위치**: 사이드바 메뉴 > 🗺️ 주변음식점

**주요 기능:**
- 네이버 지도 검색 링크
- 카카오맵 검색 링크
- 구글 맛집 검색 링크
- 위치 + 메뉴 조합 검색

**사용 방법:**
1. "🗺️ 주변음식점" 페이지 이동
2. 원하는 메뉴 입력 (예: 삼겹살)
3. 위치 입력 (예: 강남)
4. 각 지도 서비스 링크 클릭

**지도 서비스별 특징:**
- **네이버 지도**: 가장 정확한 한국 지도, 영업시간, 리뷰
- **카카오맵**: 로드뷰, 길찾기, 대중교통 경로
- **구글 검색**: 블로그 리뷰, 음식 사진

**고급 기능 (API 키 필요):**
- Kakao Map API 키가 있으면 페이지 내 지도 임베딩 가능
- 실시간 거리 계산
- 경로 안내
- 자세한 내용은 `REQUIRED_API_KEYS.md` 참고

---

### 5. 📱 배달앱 연동 - 바로 주문하기 ✅

**위치**: 메인 페이지 > 추천 결과 하단

**주요 기능:**
- 추천받은 메뉴를 배달앱에서 바로 검색
- 배달의민족, 쿠팡이츠, 요기요 링크 제공
- 네이버/카카오 지도 연동
- 구글 맛집 검색

**사용 방법:**
1. 메인 페이지에서 메뉴 추천 받기
2. 추천 결과에서 원하는 메뉴 선택
3. 위치 입력 (선택사항)
4. 원하는 배달앱/지도 링크 클릭

**지원 앱:**
- 🛵 **배달의민족**: 국내 1위 배달앱
- 🚀 **쿠팡이츠**: 빠른 배송
- 🍽️ **요기요**: 다양한 할인
- 🗺️ **네이버/카카오**: 주변 음식점 직접 방문
- 🔍 **구글 검색**: 맛집 정보 및 리뷰

---

## 🎯 통합 사용 시나리오

### 시나리오 1: 혼자 점심 고민할 때

1. **메인 페이지**에서 현재 상태 입력
   - 컨디션: 보통
   - 스트레스: 7/10
   - 예산: 10,000원
   - 식사시간: 점심

2. 🌦️ **날씨 정보** 자동 확인
   - "비 오는 날엔 전이나 따뜻한 국물 요리가 생각나죠"

3. 🎯 **AI 추천** 받기
   - 3가지 메뉴 추천 (날씨 반영됨)

4. 📱 **배달앱 연동**
   - 원하는 메뉴 선택
   - 배달의민족/쿠팡이츠에서 주문

5. 📊 **히스토리 자동 저장**
   - 나중에 통계 확인 가능

---

### 시나리오 2: 친구들과 저녁 메뉴 정할 때

1. **🗳️ 그룹투표** 페이지 이동

2. **투표 생성**
   - 이름: 홍길동
   - 메뉴: 삼겹살, 초밥, 파스타, 치킨

3. **링크 공유**
   - 카톡 단체방에 링크 공유

4. **친구들 투표**
   - 실시간으로 결과 확인

5. **최다 득표 메뉴 선정**
   - 예: 삼겹살 (5표)

6. **🗺️ 주변음식점** 페이지에서 검색
   - "강남 삼겹살" 검색
   - 네이버 지도에서 맛집 찾기

7. **예약 및 방문**

---

### 시나리오 3: 매주 패턴 분석하고 싶을 때

1. 일주일 동안 매일 메뉴 추천 받기

2. **📊 히스토리** 페이지 이동

3. **통계 확인**
   - 총 추천 횟수: 7회
   - 평균 예산: 12,000원
   - 선호 음식: 한식, 일식
   - 주요 시간: 점심

4. **패턴 파악**
   - "나는 한식을 가장 많이 먹네!"
   - "평균 예산이 생각보다 높아..."

5. **다음 주 계획**
   - 예산을 8,000원으로 낮춰보기
   - 다양한 음식 종류 시도하기

---

## 📋 체크리스트

### 기본 사용 (API 키 불필요)

- [x] ✅ 메인 페이지에서 AI 메뉴 추천
- [x] ✅ 히스토리 저장 및 통계 확인
- [x] ✅ 그룹 투표 생성 및 참여
- [x] ✅ 배달앱 링크 생성
- [x] ✅ 지도 검색 링크 사용

### 고급 기능 (API 키 필요)

- [ ] 🌦️ 실시간 날씨 반영 (OpenWeatherMap API)
- [ ] 🗺️ 지도 임베딩 (Kakao Map API)

---

## 🚀 추가 개선 아이디어

1. **AI 대화형 추천**: 챗봇처럼 대화하며 메뉴 추천
2. **영양 정보 표시**: 칼로리, 단백질, 탄수화물 정보
3. **사진 업로드**: 음식 사진 업로드 및 인식
4. **SNS 공유**: 추천 결과를 SNS에 공유
5. **알림 기능**: 정해진 시간에 메뉴 추천 알림
6. **즐겨찾기**: 자주 먹는 메뉴 즐겨찾기
7. **그룹 히스토리**: 친구들과 함께 먹은 기록
8. **포인트 시스템**: 사용할수록 더 정확한 추천

---

## 💡 자주 묻는 질문

**Q: API 키가 없어도 사용 가능한가요?**
A: 네! OpenAI API 키만 있으면 모든 핵심 기능을 사용할 수 있습니다. 날씨와 지도 임베딩은 선택사항입니다.

**Q: 히스토리는 어디에 저장되나요?**
A: 로컬 `data/` 디렉토리에 JSON 파일로 저장됩니다. 최근 50개만 유지됩니다.

**Q: 그룹 투표 링크는 얼마나 유지되나요?**
A: 서버를 재시작해도 유지됩니다. 단, 데이터를 직접 삭제하지 않는 한 영구 보관됩니다.

**Q: 배달앱 링크가 제대로 작동하지 않아요.**
A: 각 배달앱의 웹사이트 구조가 변경되면 링크가 작동하지 않을 수 있습니다. 그때는 앱을 직접 열어 검색해주세요.

**Q: 다른 도시의 날씨도 확인할 수 있나요?**
A: 현재는 서울로 고정되어 있지만, `app.py`에서 `get_weather_data("Seoul")`을 다른 도시로 변경하면 됩니다.

---

Made with ❤️ for solving "오늘 뭐 먹지?" problem!



